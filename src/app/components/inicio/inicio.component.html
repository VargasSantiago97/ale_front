<div style="text-align: center;"
    *ngIf="load_ordenes_pago || load_asientos || load_carta_porte || load_camiones || load_choferes || load_condicion_iva || load_socios || load_transportistas || load_campanas || load_depositos || load_establecimientos || load_gastos || load_granos || load_banderas || load_ordenes_carga || load_intervinientes || load_movimientos">
    <br><br><br><br><p-progressSpinner></p-progressSpinner><br><br>
</div>

<p-table #th [columns]="selectedColumns" [value]="dataParaMostrarTabla" selectionMode="multiple"
    [metaKeySelection]="true" [tableStyle]="{'min-width': '50rem'}"
    styleClass="p-datatable-gridlines p-datatable-striped p-datatable-sm" [paginator]="true" [rows]="25"
    [showCurrentPageReport]="true" [(selection)]="selectedTablaInicio" dataKey="ctg"
    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
    [rowsPerPageOptions]="[10,25,50,100,1000,3000]">
    <ng-template pTemplate="caption">
        <p-multiSelect [options]="cols" [(ngModel)]="selectedColumns" optionLabel="header"
            selectedItemsLabel="{0} columnas seleccionadas" [style]="{'min-width': '300px'}"
            placeholder="Seleccionar columnas"></p-multiSelect>

        <button pButton pRipple type="button" label="FILTROS" class="p-button-success bott"
            style="margin: 6px; margin-left: 20px;" (click)="displayFiltros=true"></button>

        <button pButton pRipple type="button" label="NUEVO VIAJE" class="p-button-success bott" style="margin: 6px;"
            (click)="nuevoMovimiento()"></button>

        <button pButton pRipple type="button" label="BANDERAS" class="p-button-success bott" style="margin: 6px;"
            (click)="displayBanderas=true"></button>

        <button pButton pRipple type="button" label="COLUMNAS" class="p-button-success bott" style="margin: 6px;"
            (click)="displayVistas=true"></button>

        <button pButton pRipple type="button" label="XLSX" class="p-button-success bott" style="margin: 6px;"
            (click)="exportToExcel()"></button>

        <label style="margin-left: 60px;">Buscar: </label>

        <input type="text" class="input-text-codigo {{filtroRapido.orden ? 'fondoVerde' : ''}}"
            style="width: 100px; margin-left: 10px;" placeholder="ORDEN" [(ngModel)]="filtroRapido.orden"
            (keydown.enter)="datosParaTabla(false, true)">
        <input type="text" class="input-text-codigo {{filtroRapido.cpe ? 'fondoVerde' : ''}}"
            style="width: 100px; margin-left: 10px;" placeholder="CPE" [(ngModel)]="filtroRapido.cpe"
            (keydown.enter)="datosParaTabla(false, true)">
        <input type="text" class="input-text-codigo {{filtroRapido.ctg ? 'fondoVerde' : ''}}"
            style="width: 150px; margin-left: 10px;" placeholder="CTG" [(ngModel)]="filtroRapido.ctg"
            (keydown.enter)="datosParaTabla(false, true)">
        <input type="text" class="input-text-codigo {{filtroRapido.patente ? 'fondoVerde' : ''}}"
            style="width: 100px; margin-left: 10px;" placeholder="PAT" [(ngModel)]="filtroRapido.patente"
            (keydown.enter)="datosParaTabla(false, true)">

    </ng-template>
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th [style]="{padding: '2px', minWidth: tamanoCols[col.field]}" *ngFor="let col of columns"
                pSortableColumn="{{col.field}}">
                {{col.header}} <p-sortIcon field="{{col.field}}"></p-sortIcon>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-registro let-columns="columns" let-rowIndex="rowIndex">
        <tr (dblclick)="mostrarMovimiento(registro.id)" [pSelectableRow]="registro" [pSelectableRowIndex]="rowIndex">
            <td *ngFor="let col of columns" [style]="{padding: '0px', height: '50px'}" title="{{col.header}}">

                <div
                    *ngIf="(col.field != 'orden') && (col.field != 'ctg') && (col.field != 'observaciones') && (col.field != 'banderas')">
                    {{registro[col.field]}}
                </div>

                <div *ngIf="col.field == 'orden'">
                    <a *ngIf="registro.existeOrdenDeCarga" (click)="mostrarModalOrdenCarga(registro.id, $event)"
                        href="#">{{registro[col.field]}}</a>

                    <button *ngIf="!registro.existeOrdenDeCarga" class="button-tabla"
                        (click)="agregarOrdenCargaRegistro(registro.id)">
                        <i class="pi pi-plus-circle"></i>
                    </button>
                </div>

                <div *ngIf="col.field == 'ctg'">
                    <a *ngIf="(!registro.permiteCrearCTG) && registro[col.field]"
                        (click)="abrirModalVerCPE(registro.id, true, $event)" href="#">{{registro[col.field]}}</a>
                    <a *ngIf="(!registro.permiteCrearCTG) && !(registro[col.field])"
                        (click)="abrirModalVerCPE(registro.id, true, $event)" href="#">SIN CTG</a>

                    <button *ngIf="registro.permiteCrearCTG" class="button-tabla"
                        (click)="abrirModalCrearCPE(registro.id)">
                        <i class="pi pi-plus-circle"></i>
                    </button>
                </div>

                <div *ngIf="col.field == 'observaciones' && registro.observaciones">
                    {{registro.observaciones}}

                    <button class="button-tabla"
                        (click)="displayObservacion = true && datosObservacion = registro.observacionesCompleta">
                        <i class="pi pi-comment"></i>
                    </button>
                </div>

                <div *ngIf="col.field == 'banderas'">
                    <div *ngFor="let bandera of registro.banderas">
                        <p-tag pTooltip="{{bandera.alias}}" tooltipPosition="left" *ngIf="bandera" severity="{{bandera.fondo}}"><i class="pi {{bandera.icono}}" [style]="{color: bandera.color}"></i></p-tag>
                    </div>
                </div>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="footer" let-columns>
        <tr>
            <td *ngFor="let col of columns">
                {{dataParaMostrarTablaTotales[col.field]}}
            </td>
        </tr>
    </ng-template>
</p-table>
<br><br>

<p-dialog header="Observaciones:" [(visible)]="displayObservacion" [style]="{width: '50vw'}">
    <p>{{datosObservacion}}</p>
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayObservacion=false" label="Ok"
            styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>

<p-dialog header="FILTROS" [(visible)]="displayFiltros" [modal]="true" [style]="{width: '98vw', height: '900px'}"
    [draggable]="true" [resizable]="false">
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>FECHA DESDE</label><br>
                <p-calendar inputId="basic" [(ngModel)]="datosFiltro.fechaDesde" dateFormat="dd/mm/yy"></p-calendar>
            </div>
        </div>
        <br>
        <div class="field col">
            <div class="field">
                <label>FECHA HASTA</label><br>
                <p-calendar inputId="basic" [(ngModel)]="datosFiltro.fechaHasta" dateFormat="dd/mm/yy"></p-calendar>
            </div>
        </div>
        <br>
        <div class="field col">
            <div class="field">
                <label>BANDERA</label><br>

                <p-multiSelect [options]="db_banderas" [(ngModel)]="datosFiltro.id_bandera" defaultLabel="Seleccionar"
                    optionLabel="alias" optionValue="id" class="multiselect-custom">
                    <ng-template let-bandera pTemplate="item">
                        <div class="bandera-item">
                            <p-tag severity="{{bandera.fondo}}"><i class="pi {{bandera.icono}}"
                                    [style]="{color: bandera.color}"></i></p-tag> {{bandera.alias}}
                        </div>
                    </ng-template>
                </p-multiSelect>
            </div>
        </div>
    </div>
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>CULTIVO</label><br>
                <p-listbox [options]="datos_filtrar_granos" [(ngModel)]="datosFiltro.granos" [metaKeySelection]="false"
                    [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias" optionValue="id"
                    [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-grano pTemplate="item">
                        <div class="grano-item">
                            <div>{{grano.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>SOCIO</label><br>
                <p-listbox [options]="datos_filtrar_socios" [(ngModel)]="datosFiltro.socios" [metaKeySelection]="false"
                    [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias" optionValue="id"
                    [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-socio pTemplate="item">
                        <div class="socio-item">
                            <div>{{socio.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>ESTABLECIMIENTO</label><br>
                <p-listbox [options]="datos_filtrar_establecimientos" [(ngModel)]="datosFiltro.establecimientos"
                    [metaKeySelection]="false" [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias"
                    optionValue="id" [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-establecimiento pTemplate="item">
                        <div class="establecimiento-item">
                            <div>{{establecimiento.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>TRANSPORTE</label><br>
                <p-listbox [options]="datos_filtrar_transportistas" [(ngModel)]="datosFiltro.transportistas"
                    [metaKeySelection]="false" [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias"
                    optionValue="id" [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-transportista pTemplate="item">
                        <div class="transportista-item">
                            <div>{{transportista.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>CORREDOR</label><br>
                <p-listbox [options]="datos_filtrar_corredores" [(ngModel)]="datosFiltro.corredores"
                    [metaKeySelection]="false" [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias"
                    optionValue="id" [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-corredor pTemplate="item">
                        <div class="corredor-item">
                            <div>{{corredor.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>DESTINO</label><br>
                <p-listbox [options]="datos_filtrar_acopios" [(ngModel)]="datosFiltro.acopios"
                    [metaKeySelection]="false" [checkbox]="true" [filter]="true" [multiple]="true" optionLabel="alias"
                    optionValue="id" [listStyle]="{'max-height':'600px'}" [style]="{'width':'15rem'}">
                    <ng-template let-acopio pTemplate="item">
                        <div class="acopio-item">
                            <div>{{acopio.alias}}</div>
                        </div>
                    </ng-template>
                </p-listbox>
            </div>
        </div>
    </div>

    <ng-template pTemplate="footer">
        <button pButton pRipple type="button" label="FILTRAR" class="p-button-success bott"
            (click)="datosParaTabla(true)"></button>
    </ng-template>
</p-dialog>

<p-dialog header="{{datosMovimiento.id ? 'EDITAR' : 'NUEVO'}} MOVIMIENTO - VIAJE" [(visible)]="displayNuevoMovimiento"
    [modal]="true" [style]="{width: '95vw', height: '90vw'}" [draggable]="true" [resizable]="true" [maximizable]="true">
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>Fecha</label><br>
                <input type="date" [(ngModel)]="datosMovimiento.fecha" class="select-class">
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Campaña</label><br>
                <select [(ngModel)]="datosMovimiento.id_campana" class="select-class">
                    <option *ngFor="let campana of db_campanas" value="{{campana.id}}">{{campana.descripcion}}</option>
                </select>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Bandera</label><br>

                <p-multiSelect [options]="db_banderas" [(ngModel)]="datosMovimiento.id_bandera"
                    defaultLabel="Seleccionar" optionLabel="alias" optionValue="id" class="multiselect-custom">
                    <ng-template let-bandera pTemplate="item">
                        <div class="bandera-item">
                            <p-tag severity="{{bandera.fondo}}"><i class="pi {{bandera.icono}}"
                                    [style]="{color: bandera.color}"></i></p-tag> {{bandera.alias}}
                        </div>
                    </ng-template>
                </p-multiSelect>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Beneficiario</label><br>
                <select [(ngModel)]="datosMovimiento.id_socio" class="select-class">
                    <option *ngFor="let socio of db_socios" value="{{socio.id}}">{{socio.alias}}</option>
                </select>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Origen</label>
                <select [(ngModel)]="datosMovimiento.id_origen" class="select-class">
                    <option *ngFor="let est of db_establecimientos" value="{{est.id}}">{{est.alias}}</option>
                </select>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Grano</label>
                <select [(ngModel)]="datosMovimiento.id_grano" class="select-class">
                    <option *ngFor="let grano of db_granos" value="{{grano.id}}">{{grano.alias}}</option>
                </select>
            </div>
        </div>

        <div class="field col">
            <div class="field">
                <label>Desde</label><br>
                <button *ngFor=" let desde of optionsDe" (click)="datosMovimiento.tipo_origen = desde.id"
                    class="{{datosMovimiento.tipo_origen == desde.id ? 'select-button-active' : 'select-button-disabled'}}">{{desde.label}}</button>
            </div>
        </div>
    </div>
    <p-divider align="left">
        <b>Transporte</b>
    </p-divider>
    <div class="formgrid row">
        <div class="field col-4">
            <div class="tarjeta">
                <h6>Transporte: <button (click)="actualizarTransportistas()" class="button-tabla"><i
                            class="pi pi-refresh"></i></button></h6>
                <div class="formgrid row">
                    <div class="field col-3">
                        <label>Codigo</label><br>
                        <input [(ngModel)]="cod_transporte" class="input-text-codigo" type="text"
                            (keyup.enter)="buscarTransporte()" />
                    </div>
                    <div class="field col-9">
                        <label>Seleccionar:</label><br>
                        <select [(ngModel)]="datosMovimiento.id_transporte" class="select-class"
                            (ngModelChange)="onSelectTransporte()" style="width: 300px;">
                            <option *ngFor="let transp of db_transportistas" value="{{transp.id}}">{{transp.alias}}
                            </option>
                        </select>
                    </div>
                </div>
                <br>
                <p>Transp.: <strong *ngIf="transportista">{{transportista.razon_social}}</strong></p>
                <p>CUIT: <strong *ngIf="transportista">{{transportista.cuit}}</strong></p>
                <p>IVA: <strong *ngIf="transportista">{{transformarDatoMostrar(transportista.condicion_iva,
                        'condicion_iva')}}</strong></p>
            </div>
        </div>
        <div class="field col-3">
            <div class="tarjeta">
                <h6>Chofer: <button (click)="actualizarChoferes()" class="button-tabla"><i
                            class="pi pi-refresh"></i></button></h6>
                <div class="formgrid row">
                    <div class="field col-3">
                        <label>Codigo</label><br>
                        <input [(ngModel)]="cod_chofer" class="input-text-codigo" type="text"
                            (keyup.enter)="buscarChofer()" style="width: 85px;" />
                    </div>
                    <div class="field col-9">
                        <label>Seleccionar:</label><br>
                        <select [(ngModel)]="datosMovimiento.id_chofer" class="select-class"
                            (ngModelChange)="onSelectChofer()">
                            <option *ngFor="let chofer of select_choferes" value="{{chofer.id}}">{{chofer.alias}}
                            </option>
                        </select>
                    </div>
                </div>
                <br>
                <p>Chofer.: <strong *ngIf="chofer">{{chofer.razon_social}}</strong></p>
                <p>CUIT: <strong *ngIf="chofer">{{chofer.cuit}}</strong></p>
                <button class="button-ver-todo" (click)="verTodosChoferes()">Ver todos</button>
            </div>
        </div>
        <div class="field col-3">
            <div class="tarjeta">
                <h6>Camion: <button (click)="actualizarCamiones()" class="button-tabla"><i
                            class="pi pi-refresh"></i></button></h6>
                <div class="formgrid row">
                    <div class="field col-3">
                        <label>Codigo</label><br>
                        <input [(ngModel)]="cod_camion" class="input-text-codigo" type="text"
                            (keyup.enter)="buscarCamion()" style="width: 85px;" />
                    </div>
                    <div class="field col-9">
                        <label>Seleccionar:</label><br>
                        <select [(ngModel)]="datosMovimiento.id_camion" class="select-class"
                            (ngModelChange)="onSelectCamion()">
                            <option *ngFor="let camion of select_camiones" value="{{camion.id}}">{{camion.alias}}
                            </option>
                        </select>
                    </div>
                </div>
                <br>
                <p>Patentes: <strong *ngIf="camion">{{camion.patente_chasis}} - {{camion.patente_acoplado}} -
                        {{camion.patente_otro}}</strong></p>
                <p>Tara: <strong *ngIf="camion">{{camion.kg_tara}}</strong> / Modelo: <strong
                        *ngIf="camion">{{camion.modelo}}</strong></p>
                <button class="button-ver-todo" (click)="verTodosCamiones()">Ver todos</button>
            </div>
        </div>
        <div class="field col-2">
            <div class="tarjeta">
                <h6>KGS:</h6>
                <table>
                    <tr>
                        <td>KG BRUTO</td>
                        <td><input type="number" step=10 class="input-text-codigo"
                                [(ngModel)]="datosMovimiento.kg_bruto"
                                (ngModelChange)="calcularKilos($event, 'kilos_bruto')"><br></td>
                    </tr>
                    <tr>
                        <td>KG TARA</td>
                        <td><input type="number" step=10 class="input-text-codigo" [(ngModel)]="datosMovimiento.kg_tara"
                                (ngModelChange)="calcularKilos($event, 'kilos_tara')"><br></td>
                    </tr>
                    <tr>
                        <td><strong>NETO</strong></td>
                        <td><input type="number" step=10 class="input-text-codigo" [(ngModel)]="datosMovimiento.kg_neto"
                                (ngModelChange)="calcularKilos($event, 'kilos_neto')"><br></td>
                    </tr>
                    <tr>
                        <td>CARG/DESC</td>
                        <td><input type="number" step=10 class="input-text-codigo"
                                [(ngModel)]="datosMovimiento.kg_regulacion"
                                (ngModelChange)="calcularKilos($event, 'kilos_carga_descarga')"><br></td>
                    </tr>
                    <tr>
                        <td>Depos.</td>
                        <td>
                            <select [(ngModel)]="datosMovimiento.id_deposito" class="select-class" style="width: 100px">
                                <option *ngFor="let deposito of db_depositos" value="{{deposito.id}}">{{deposito.alias}}
                                </option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>NETO FINAL</strong></td>
                        <td><input type="number" step=10 class="input-text-codigo"
                                [(ngModel)]="datosMovimiento.kg_neto_final"
                                (ngModelChange)="calcularKilos($event, 'kilos_neto_final')"><br></td>
                    </tr>
                    <br>
                    <tr>
                        <td><strong>NETO CAMPO</strong></td>
                        <td><input type="number" step=10 class="input-text-codigo"
                                [(ngModel)]="datosMovimiento.kg_campo">
                            <br>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <p-divider align="left">
        <b>Datos varios</b>
    </p-divider>
    <div class="formgrid row">
        <div class="col">
            <label>CORREDOR: <strong>{{datosMovimiento.id_corredor ?
                    transformDatoTabla(datosMovimiento.id_corredor,"intervinientes") : ''}}</strong></label><br>
            <p-listbox [options]="db_corredores" [(ngModel)]="datosMovimiento.id_corredor" optionLabel="alias"
                optionValue="id" [filter]="true" [style]="{ width: '90%' }" [metaKeySelection]="false"></p-listbox>
        </div>
        <div class="col">
            <label>ACOPIO: <strong>{{datosMovimiento.id_acopio ?
                    transformDatoTabla(datosMovimiento.id_acopio,"intervinientes") : ''}}</strong></label><br>
            <p-listbox [options]="db_acopios" [(ngModel)]="datosMovimiento.id_acopio" optionLabel="alias"
                optionValue="id" [filter]="true" [style]="{ width: '90%' }" [metaKeySelection]="false"></p-listbox>
        </div>
        <div class="col">
            <div class="formgrid row">
                <span class="p-float-label">
                    <textarea id="float-input" rows="5" cols="70" pInputTextarea
                        [(ngModel)]="datosMovimiento.observaciones"></textarea>
                    <label for="float-input">Observaciones</label>
                </span>
            </div>
            <div class="formgrid row">

            </div>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <button *ngIf="!existePlantilla" pButton pRipple type="button" label="GUARDAR PLANTILLA"
            class="p-button-success bott" (click)="guardarPlantilla()"></button>
        <button *ngIf="existePlantilla" pButton pRipple type="button" label="BORRAR PLANTILLA"
            class="p-button-danger bott" (click)="borrarPlantilla()"></button>
        <button *ngIf="!datosMovimiento.id" pButton pRipple type="button" label="GUARDAR" class="p-button-success bott"
            (click)="guardarMovimiento()"></button>
        <button *ngIf="datosMovimiento.id" pButton pRipple type="button" label="EDITAR" class="p-button-success bott"
            (click)="editarMovimiento()"></button>
        <button *ngIf="datosMovimiento.id" pButton pRipple type="button" label="BORRAR" class="p-button-danger bott"
            (click)="borrarMovimiento()"></button>
        <button pButton pRipple type="button" label="SALIR" class="p-button-danger bott"
            (click)="displayNuevoMovimiento = false"></button>
    </ng-template>
</p-dialog>

<p-dialog header="BANDERAS" [(visible)]="displayBanderas" [modal]="true" [style]="{width: '1000px', height:'600px'}"
    [draggable]="true" [resizable]="true" [maximizable]="true">

    <table>
        <thead>
            <tr style="text-align: center;">
                <td><strong>BANDERA</strong></td>
                <td><strong>ALIAS</strong></td>
                <td><strong>CODIGO</strong></td>
                <td><strong>ACTIVO</strong></td>
                <td><strong>ACCIONES</strong></td>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let bandera of db_banderas">
                <td style="text-align: center;">
                    <p-tag severity="{{bandera.fondo}}" (click)="disenarFlag(bandera)"><i class="pi {{bandera.icono}}"
                            [style]="{color: bandera.color}"></i></p-tag>
                </td>
                <td>
                    <input type="text" [(ngModel)]="bandera.alias">
                </td>
                <td>
                    <input type="text" [(ngModel)]="bandera.codigo">
                </td>
                <td>
                    <input type="text" [(ngModel)]="bandera.activo">
                </td>
                <td *ngIf="bandera.id">
                    <button style="background-color: rgba(21, 255, 0, 0.486);" (click)="editarBandera(bandera)"><i
                            class="pi pi-pencil"></i></button>
                    <button style="background-color: rgba(255, 17, 0, 0.486);" (click)="eliminarBandera(bandera)"><i
                            class="pi pi-trash"></i></button>
                    <button style="background-color: rgba(0, 110, 255, 0.486);" (click)="duplicarBandera(bandera)"><i
                            class="pi pi-arrow-circle-down"></i></button>
                </td>
                <td *ngIf="!bandera.id">
                    <button style="background-color: rgba(21, 255, 0, 0.486);" (click)="guardarBandera(bandera)"><i
                            class="pi pi-save"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <button pButton pRipple type="button" label="NUEVA BANDERA" class="p-button-success bott"
        (click)="agregarBandera()"></button>


    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayBanderas=false" label="Ok" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>

<p-dialog header="DISEÑO BANDERAS" [(visible)]="displayBanderasDis" [modal]="true"
    [style]="{width: '700px', height:'600px'}" [draggable]="true" [resizable]="true" [maximizable]="true">

    <div style="text-align: center;">
        <p-tag severity="{{disFlag.fondo}}"><i class="pi {{disFlag.icono}}"
                [style]="{color:disFlag.color, fontSize: '80px'}"></i></p-tag>
    </div>
    <br>

    <div class="formgrid row">
        <div class="col">
            <label><strong>Icono:</strong></label><br>
            <p-dropdown [options]="iconsFlag" [(ngModel)]="disFlag.icono" placeholder="Seleccionar Icono"
                [showClear]="true"></p-dropdown>
        </div>
        <div class="col">
            <label><strong>Fondo:</strong></label><br>
            <p-listbox [options]="fondosFlag" [(ngModel)]="disFlag.fondo" [style]="{ width: '90%' }"></p-listbox>
        </div>
        <div class="col">
            <label><strong>Color:</strong></label><br>
            <p-colorPicker [(ngModel)]="disFlag.color" [inline]="true"></p-colorPicker>
        </div>
    </div>

    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="displayBanderasDis=false" label="Ok"
            styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>

<p-dialog header="ORDEN DE CARGA" [(visible)]="displayOrdenCarga" [modal]="true"
    [style]="{width: '1200px', height: '90vw'}" [draggable]="true" [resizable]="true" [maximizable]="true">
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon">Fecha</span>
                    <input type="text" pInputText [(ngModel)]="datosOrdenCarga.fecha" />
                </div>
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Numero</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.numero" />
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Beneficiario</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.beneficiario" />
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Transp.</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.transportista" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Chofer</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.conductor" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Patentes</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.patentes" />
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Est.</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.establecimiento" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Cultivo</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.cultivo" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Desde</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.trilla_silo" />
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">TARA</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.tara" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">BRUTO</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.bruto" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">NETO</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.neto" />
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <span class="p-float-label">
                <textarea id="float-input" rows="5" cols="70" pInputTextarea
                    [(ngModel)]="datosOrdenCarga.observaciones"></textarea>
                <label for="float-input">Observaciones</label>
            </span>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Firma</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.firma1" />
            </div>
        </div>
        <div class="field col">
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">Firma</span>
                <input type="text" pInputText [(ngModel)]="datosOrdenCarga.firma2" />
            </div>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <button pButton pRipple type="button" label="VER" class="p-button-success bott"
            (click)="mostrarOrdenCarga()"></button>
        <button pButton pRipple type="button" label="GUARDAR" class="p-button-success bott"
            (click)="guardarOrdenCarga('guardar')"></button>
        <button pButton pRipple type="button" label="GUARDAR Y VER" class="p-button-success bott"
            (click)="guardarOrdenCarga('guardar_ver')"></button>
        <button pButton pRipple type="button" label="GUARDAR Y DESCARGAR" class="p-button-success bott"
            (click)="guardarOrdenCarga('guardar_descargar')"></button>
        <button *ngIf="datosOrdenCarga.id" (click)="borrarOrdenCarga(datosOrdenCarga)" pButton pRipple type="button"
            label="BORRAR" class="p-button-danger bott" (click)="displayOrdenCarga = false"></button>
        <button pButton pRipple type="button" label="SALIR" class="p-button-danger bott"
            (click)="displayOrdenCarga = false"></button>
    </ng-template>
</p-dialog>

<p-dialog header="COLUMNAS" [(visible)]="displayVistas" [modal]="true" [style]="{width: '300px'}" [draggable]="true"
    [resizable]="false">
    <div class="formgrid row">
        <p-button label="TODO" styleClass="p-button-sm" (click)="columnsTabla('todo')"></p-button>
    </div>
    <br>
    <div class="formgrid row">
        <p-button label="TRANPORTES" styleClass="p-button-sm" (click)="columnsTabla(1)"></p-button>
    </div>
</p-dialog>


<p-dialog header="CPE" [(visible)]="displayCPE" [modal]="true" [style]="{width: '1100px'}" [draggable]="true"
    [resizable]="true" [maximizable]="true">

    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>NRO CTG</label><br>
                <input type="text" class="input-text-codigo" style="width: 140px;" [(ngModel)]="datosCPE.nro_ctg">
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>SUCURSAL</label><br>
                <input type="text" class="input-text-codigo" style="width: 100px;" [(ngModel)]="datosCPE.sucursal">
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>NRO CPE</label><br>
                <input type="text" class="input-text-codigo" style="width: 140px;" [(ngModel)]="datosCPE.nro_cpe">
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>Tipo</label><br>
                <select [(ngModel)]="datosCPE.tipo_cpe" class="select-class" style="width: 300px;">
                    <option value=74>74 - Automotor - Granos</option>
                </select>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Titular</label><br>
                <select [(ngModel)]="datosCPE.cuit_solicitante" class="select-class" style="width: 280px;"
                    (ngModelChange)="onSelectSolicitante()">
                    <option *ngFor="let socio of db_socios" value="{{socio.cuit}}">{{socio.razon_social}}</option>
                </select>
                <button (click)="dummy(datosCPE.cuit_solicitante)" class="button-tabla"><i
                        class="pi pi-cog"></i></button>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>CAMPAÑA</label><br>
                <select [(ngModel)]="datosCPE.cosecha" class="select-class" style="width: 300px;">
                    <option *ngFor="let campana of db_campanas" value="{{campana.codigo}}">{{campana.codigo}} -
                        {{campana.descripcion}}</option>
                </select>
            </div>
        </div>
    </div>
    <p-divider align="center">
        <b>A - INTERVINIENTES</b>
    </p-divider>
    <div class="formgrid row">
        <table>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Productor:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_remitente_comercial_productor" class="select-class">
                            <option value=""></option>
                            <option
                                *ngFor="let remitente_comercial_productor of intervinientesCPE.remitente_comercial_productor"
                                value="{{remitente_comercial_productor.cuit}}">{{remitente_comercial_productor.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_remitente_comercial_productor"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_remitente_comercial_productor, 'remitente_comercial_productor')"><br>
                </td>
                <td>
                    <button
                        (click)="buscarCUIT(datosCPE.cuit_remitente_comercial_productor, 'remitente_comercial_productor')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.remitente_comercial_productor" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Primaria:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_primaria" class="select-class">
                            <option value=""></option>
                            <option
                                *ngFor="let remitente_comercial_venta_primaria of intervinientesCPE.remitente_comercial_venta_primaria"
                                value="{{remitente_comercial_venta_primaria.cuit}}">
                                {{remitente_comercial_venta_primaria.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_primaria"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_primaria, 'remitente_comercial_venta_primaria')"><br>
                </td>
                <td>
                    <button
                        (click)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_primaria, 'remitente_comercial_venta_primaria')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.remitente_comercial_venta_primaria" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Secundaria:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_secundaria" class="select-class">
                            <option value=""></option>
                            <option
                                *ngFor="let remitente_comercial_venta_secundaria of intervinientesCPE.remitente_comercial_venta_secundaria"
                                value="{{remitente_comercial_venta_secundaria.cuit}}">
                                {{remitente_comercial_venta_secundaria.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_secundaria"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_secundaria, 'remitente_comercial_venta_secundaria')"><br>
                </td>
                <td>
                    <button
                        (click)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_secundaria, 'remitente_comercial_venta_secundaria')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.remitente_comercial_venta_secundaria" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Secundaria 2:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_secundaria2" class="select-class">
                            <option value=""></option>
                            <option
                                *ngFor="let remitente_comercial_venta_secundaria2 of intervinientesCPE.remitente_comercial_venta_secundaria2"
                                value="{{remitente_comercial_venta_secundaria2.cuit}}">
                                {{remitente_comercial_venta_secundaria2.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_remitente_comercial_venta_secundaria2"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_secundaria2, 'remitente_comercial_venta_secundaria2')"><br>
                </td>
                <td>
                    <button
                        (click)="buscarCUIT(datosCPE.cuit_remitente_comercial_venta_secundaria2, 'remitente_comercial_venta_secundaria2')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.remitente_comercial_venta_secundaria2" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Mercado a Termino:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_mercado_a_termino" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let mercado_a_termino of intervinientesCPE.mercado_a_termino"
                                value="{{mercado_a_termino.cuit}}">{{mercado_a_termino.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_mercado_a_termino"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_mercado_a_termino, 'mercado_a_termino')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_mercado_a_termino, 'mercado_a_termino')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.mercado_a_termino" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Corredor Venta Primaria:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_corredor_venta_primaria" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let corredor_venta_primaria of intervinientesCPE.corredor_venta_primaria"
                                value="{{corredor_venta_primaria.cuit}}">{{corredor_venta_primaria.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_corredor_venta_primaria"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_corredor_venta_primaria, 'corredor_venta_primaria')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_corredor_venta_primaria, 'corredor_venta_primaria')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.corredor_venta_primaria" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Corredor Venta Secundaria:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_corredor_venta_secundaria" class="select-class">
                            <option value=""></option>
                            <option
                                *ngFor="let corredor_venta_secundaria of intervinientesCPE.corredor_venta_secundaria"
                                value="{{corredor_venta_secundaria.cuit}}">{{corredor_venta_secundaria.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_corredor_venta_secundaria"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_corredor_venta_secundaria, 'corredor_venta_secundaria')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_corredor_venta_secundaria, 'corredor_venta_secundaria')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.corredor_venta_secundaria" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Representante Entregador:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_representante_entregador" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let representante_entregador of intervinientesCPE.representante_entregador"
                                value="{{representante_entregador.cuit}}">{{representante_entregador.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_representante_entregador"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_representante_entregador, 'representante_entregador')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_representante_entregador, 'representante_entregador')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.representante_entregador" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Representante Recibidor:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_representante_recibidor" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let representante_recibidor of intervinientesCPE.representante_recibidor"
                                value="{{representante_recibidor.cuit}}">{{representante_recibidor.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_representante_recibidor"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_representante_recibidor, 'representante_recibidor')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_representante_recibidor, 'representante_recibidor')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.representante_recibidor" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Destinatario:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_destinatario" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let destinatario of intervinientesCPE.destinatario"
                                value="{{destinatario.cuit}}">{{destinatario.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_destinatario"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_destinatario, 'destinatario')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_destinatario, 'destinatario')" class="button-tabla"><i
                            class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.destinatario" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Destino:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_destino" class="select-class"
                            (ngModelChange)="selectEsDestinoCampo(false)">
                            <option value=""></option>
                            <option *ngFor="let destino of intervinientesCPE.destino" value="{{destino.cuit}}">
                                {{destino.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_destino"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_destino, 'destino')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_destino, 'destino')" class="button-tabla"><i
                            class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;" [(ngModel)]="datosCPE.destino"
                        readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Empresa Transportista:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_transportista" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let transportista of intervinientesCPE.transportista"
                                value="{{transportista.cuit}}">{{transportista.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_transportista"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_transportista, 'transportista')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_transportista, 'transportista')" class="button-tabla"><i
                            class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.transportista" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Flete Pagador:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_pagador_flete" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let pagador_flete of intervinientesCPE.pagador_flete"
                                value="{{pagador_flete.cuit}}">{{pagador_flete.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_pagador_flete"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_pagador_flete, 'pagador_flete')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_pagador_flete, 'pagador_flete')" class="button-tabla"><i
                            class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.pagador_flete" readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Chofer:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_chofer" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let chofer of intervinientesCPE.chofer" value="{{chofer.cuit}}">
                                {{chofer.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_chofer"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_chofer, 'chofer')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_chofer, 'chofer')" class="button-tabla"><i
                            class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;" [(ngModel)]="datosCPE.chofer"
                        readonly><br>
                </td>
            </tr>
            <tr>
                <td style="text-align: right; padding: 0px 20px 0px 0px;">Intermediario Flete:</td>
                <td>
                    <div class="field">
                        <select [(ngModel)]="datosCPE.cuit_intermediario_flete" class="select-class">
                            <option value=""></option>
                            <option *ngFor="let intermediario_flete of intervinientesCPE.intermediario_flete"
                                value="{{intermediario_flete.cuit}}">{{intermediario_flete.alias}}
                            </option>
                        </select>
                    </div>
                </td>
                <td><input type="number" class="input-text-codigo" style="width: 130px;"
                        [(ngModel)]="datosCPE.cuit_intermediario_flete"
                        (keydown.enter)="buscarCUIT(datosCPE.cuit_intermediario_flete, 'intermediario_flete')"><br>
                </td>
                <td>
                    <button (click)="buscarCUIT(datosCPE.cuit_intermediario_flete, 'intermediario_flete')"
                        class="button-tabla"><i class="pi pi-search"></i></button>
                </td>
                <td><input type="text" class="input-text-codigo" style="width: 320px;"
                        [(ngModel)]="datosCPE.intermediario_flete" readonly><br>
                </td>
            </tr>
        </table>
    </div>
    <p-divider align="center">
        <b>B - GRANO / ESPECIE</b>
    </p-divider>
    <div class="formgrid row">
        <div class="field col">
            <div class="formgrid row">
                <div class="field col">
                    <div class="field">
                        <label>Grano/especie:</label><br>
                        <select [(ngModel)]="datosCPE.cod_grano" class="select-class" style="width: 240px;">
                            <option value=""></option>
                            <option *ngFor="let grano of db_granos" value="{{grano.codigo}}">{{grano.alias}}</option>
                        </select>
                    </div>
                </div>
                <div class="field col">
                    <div class="field">
                        <label>Codigo</label><br>
                        <input type="text" class="input-text-codigo" [(ngModel)]="datosCPE.cod_grano">
                    </div>
                </div>
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <table>
                    <tr>
                        <td style="text-align: right; padding: 0px 20px 0px 0px;">PESO BRUTO (kg):</td>
                        <td><input type="number" step="10" class="input-text-codigo"
                                [(ngModel)]="datosCPE.peso_bruto"><br></td>
                    </tr>
                    <tr>
                        <td style="text-align: right; padding: 0px 20px 0px 0px;">PESO TARA (kg):</td>
                        <td><input type="number" step="10" class="input-text-codigo"
                                [(ngModel)]="datosCPE.peso_tara"><br></td>
                    </tr>
                    <tr>
                        <td style="text-align: right; padding: 0px 20px 0px 0px;">PESO NETO (kg):</td>
                        <td><input type="number" step="10" class="input-text-codigo"
                                [(ngModel)]="datosCPE.peso_bruto - datosCPE.peso_tara" readonly><br></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <p-divider align="center">
        <b>C - PROCEDENCIA</b>
    </p-divider>
    <div class="formgrid row">
        <div class="field col-3">
            <div class="field">
                <label>Es un campo?</label><br>
                <button (click)="selectEsSolicitanteCampo()"
                    class="{{datosCPE.es_solicitante_campo == true ? 'select-button-active' : 'select-button-disabled'}}">SI</button>
                <button (click)="datosCPE.es_solicitante_campo = false"
                    class="{{datosCPE.es_solicitante_campo == false ? 'select-button-active' : 'select-button-disabled'}}">NO</button>
            </div>
        </div>
        <div class="field col-9" *ngIf="datosCPE.es_solicitante_campo">
            <div class="field">
                <label>Establecimiento:</label>
                <br>
                <select [(ngModel)]="datosCPE.cod_localidad_productor" class="select-class" style="width: 600px;">
                    <option value=""></option>
                    <option *ngFor="let campo of cpeCamposOrigen" value="{{campo.codLocalidad}}">{{campo.descripcion}}.
                        Prov.: {{transformarDatoMostrar(campo.codProvincia, 'provinciaCPE')}} - Loc.:
                        {{campo.codLocalidad}}</option>
                </select>
            </div>
        </div>
        <div class="field col-5" *ngIf="!datosCPE.es_solicitante_campo">
            <div class="field">
                <label>Corresponde retiro productor?</label><br>
                <button (click)="datosCPE.corresponde_retiro_productor = true"
                    class="{{datosCPE.corresponde_retiro_productor == true ? 'select-button-active' : 'select-button-disabled'}}">SI</button>
                <button (click)="datosCPE.corresponde_retiro_productor = false"
                    class="{{datosCPE.corresponde_retiro_productor == false ? 'select-button-active' : 'select-button-disabled'}}">NO</button>
            </div>
        </div>
        <div class="field col-4" *ngIf="!datosCPE.es_solicitante_campo">
            <div class="field">
                <label>Certificado COE:</label><br>
                <input type="text" class="input-text-codigo" style="width: 240px;"
                    [(ngModel)]="datosCPE.certificado_coe">
            </div>
        </div>
    </div>
    <p-divider align="center">
        <b>D - DESTINO DE LA MERCADERIA</b>
    </p-divider>
    <div class="formgrid row">
        <div class="field col-4">
            <div class="field">
                <label>Es un campo?</label><br>
                <button (click)="selectEsDestinoCampo(true)"
                    class="{{datosCPE.es_destino_campo == true ? 'select-button-active' : 'select-button-disabled'}}">SI</button>
                <button (click)="selectEsDestinoCampo(false)"
                    class="{{datosCPE.es_destino_campo == false ? 'select-button-active' : 'select-button-disabled'}}">NO</button>
            </div>
        </div>
        <div class="field col-8" *ngIf="datosCPE.es_destino_campo">
            <div class="field">
                <label>Establecimiento:</label>
                <br>
                <select [(ngModel)]="datosCPE.cod_destino" class="select-class" style="width: 600px;">
                    <option value=""></option>
                    <option *ngFor="let campo of cpeCamposDestino" value="{{campo.codLocalidad}}">{{campo.descripcion}}.
                        Prov.: {{transformarDatoMostrar(campo.codProvincia, 'provinciaCPE')}} - Loc.:
                        {{campo.codLocalidad}}</option>
                </select>
            </div>
        </div>
        <div class="field col-8" *ngIf="!datosCPE.es_destino_campo">
            <div class="field">
                <label>Planta: (Si no carga, presionar "NO" es un campo)</label><br>
                <select [(ngModel)]="datosCPE.cod_destino" class="select-class" style="width: 600px;">
                    <option value=""></option>
                    <option *ngFor="let planta of cpePlantasDestino" value="{{planta.nroPlanta}}">Planta N°
                        {{planta.nroPlanta}}. Prov.: {{transformarDatoMostrar(planta.codProvincia, 'provinciaCPE')}}
                        ({{planta.codProvincia}}) -
                        Loc.: {{planta.codLocalidad}}</option>
                </select>
            </div>
        </div>
    </div>

    <p-divider align="center">
        <b>E - DATOS DEL TRANSPORTE</b>
    </p-divider>

    <div class="formgrid row">
        <div class="field col-2">
            <div class="field">
                <label>Dominio Chasis</label><br>
                <input type="text" class="input-text-codigo" style="width: 150px;" [(ngModel)]="datosCPE.dominio1">
            </div>
        </div>
        <div class="field col-2">
            <div class="field">
                <label>Dominio Acoplado</label><br>
                <input type="text" class="input-text-codigo" style="width: 150px;" [(ngModel)]="datosCPE.dominio2">
            </div>
        </div>
        <div class="field col-2">
            <div class="field">
                <label>Dominio Otro</label><br>
                <input type="text" class="input-text-codigo" style="width: 150px;" [(ngModel)]="datosCPE.dominio3">
            </div>
        </div>
        <div class="field col-3">
            <div class="field">
                <label>Partida:</label><br>
                <input type="datetime-local" [(ngModel)]="datosCPE.fecha_hora_partida" class="select-class">
            </div>
        </div>
        <div class="field col-3">
            <div class="field">
                <label>Kms. a recorrer:</label><br>
                <input type="number" class="input-text-codigo" style="width: 150px;" [(ngModel)]="datosCPE.km_recorrer">
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>N° de Turno:</label><br>
                <input type="text" class="input-text-codigo" style="width: 500px;" [(ngModel)]="datosCPE.codigo_turno">
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Tarifa Referencia</label><br>
                <input type="number" class="input-text-codigo" style="width: 150px;"
                    [(ngModel)]="datosCPE.tarifa_referencia">
            </div>
        </div>
        <div class="field col">
            <div class="field">
                <label>Tarifa</label><br>
                <input type="number" class="input-text-codigo" style="width: 150px;" [(ngModel)]="datosCPE.tarifa">
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col-9">
            <div class="field">
                <label>Observaciones CPE:</label><br>
                <input type="text" class="input-text-codigo" style="width: 100%;" [(ngModel)]="datosCPE.observaciones">
            </div>
        </div>
        <div class="field col-3">
            <div class="field">
                <label>Mercadería fumigada:</label><br>
                <input type="checkbox" [(ngModel)]="datosCPE.mercaderia_fumigada">
            </div>
        </div>
    </div>
    <br>
    <div class="formgrid row">
        <div class="field col">
            <div class="field">
                <label>Observaciones sistema (No salen en CPE)</label><br>
                <input type="text" class="input-text-codigo" style="width: 100%;"
                    [(ngModel)]="datosCPE.observaciones_sistema">
            </div>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <div *ngIf="datosCPE.nro_ctg">
        <h5>Archivos (PDF CPE):</h5>
        <div class="formgrid row">
            <p-fileUpload #myCargador name="demo[]" [showUploadButton]="false"
                url="{{API_URI_UPLOAD}}/upload.php?folder={{datosCPE.nro_ctg}}" (onUpload)="onUpload($event)"
                [multiple]="true">
                <ng-template pTemplate="content">
                </ng-template>
            </p-fileUpload>
        </div>
    </div>

    <ng-template pTemplate="footer">
        <button (click)="CPE_buscar_y_guardar()" pButton pRipple type="button" label="GUARDAR"
            class="p-button-success bott"></button>
        <button (click)="autorizarGuardarCPE()" pButton pRipple type="button" label="AUTORIZAR Y GUARDAR"
            class="p-button-success bott"></button>
        <button pButton pRipple type="button" label="SALIR" class="p-button-danger bott"
            (click)="displayCPE = false"></button>
    </ng-template>

</p-dialog>


<p-dialog header="VER CPE" [(visible)]="displayVerCPE" [modal]="true" [style]="{width: '95vw', height: '95vw'}"
    [draggable]="true" [resizable]="false">

    <div class="formgrid row">
        <div class="field col-3">
            <div style="text-align: center;" *ngIf="spinnerActualizarCPE">
                <br><br><p-progressSpinner></p-progressSpinner><br><br>
            </div>
            <div *ngFor="let datoVerCPE of datosVerCPE" class="tarjeta" style="margin: 0px 0px 30px 0px;">
                <table style="width: 100%;">
                    <tr>
                        <td>
                            <h5>CTG N°: {{datoVerCPE.nro_ctg}}</h5>
                        </td>
                        <td style="text-align: right; width: 35px;">
                            <p-tag *ngIf="datoVerCPE.data" styleClass="mr-2"
                                severity="{{datoVerCPE.data.estado == 'AN' ? 'danger' : (datoVerCPE.data.estado == 'CN' ? 'success' : 'info')}}"
                                value="{{datoVerCPE.data.estado}}"></p-tag>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h5>CPE N°: {{datoVerCPE.sucursal ? datoVerCPE.sucursal.toString().padStart(2,'0') :
                                ''}}-{{datoVerCPE.nro_cpe ? datoVerCPE.nro_cpe.toString().padStart(8, '0') : ''}}</h5>
                        </td>
                        <td style="text-align: right; width: 35px;">
                            <button class="boton-redondo" (click)="cpeActualizarPDF(datoVerCPE)"><i
                                    class="pi pi-refresh" style="font-size: 12px;"></i></button>
                        </td>
                    </tr>
                </table>

                <p *ngIf="datoVerCPE.observaciones_sistema">
                    {{datoVerCPE.observaciones_sistema}}
                </p>

                <div class="formgrid row">
                    <div *ngFor="let archivo of datoVerCPE.archivos">
                        <div class="tarjeta" style="padding: 3px; margin: 0px 0px 5px 0px;"
                            class="{{datoVerCPE.sistema ? 'cpeSistema' : ''}}">
                            <table style="width: 100%;">
                                <tr>
                                    <td>{{archivo}}</td>
                                    <td style="text-align: right; width: 85px">
                                        <button class="boton-redondo" (click)="irAURL(datoVerCPE, archivo, false)"><i
                                                class="pi pi-eye" style="font-size: 12px;"></i></button>
                                        <button class="boton-redondo" (click)="irAURL(datoVerCPE, archivo, true)"><i
                                                class="pi pi-download" style="font-size: 12px;"></i></button>
                                        <button class="boton-redondo" (click)="setearUrl(datoVerCPE, archivo)"><i
                                                class="pi pi-arrow-right" style="font-size: 12px;"></i></button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="formgrid row">
                    <div class="field col" style="text-align: right;">
                        <button *ngIf="datoVerCPE.data ? (datoVerCPE.data.estado != 'AN') : false" pButton pRipple
                            type="button" icon="pi pi-pencil" label="EDITAR" class="p-button-info"
                            style="padding: 0px 15px; margin: 0px 6px 0px 0px;"
                            (click)="editarCPE(datoVerCPE)"></button>
                        <button *ngIf="datoVerCPE.data ? (datoVerCPE.data.estado != 'AN') : false" pButton pRipple
                            type="button" icon="pi pi-exclamation-circle" label="ANULAR" class="p-button-danger"
                            style="padding: 0px 15px; margin: 0px 6px 0px 0px;"
                            (click)="anularCPE(datoVerCPE)"></button>
                        <button pButton pRipple type="button" label="ELIMINAR" class="p-button-danger"
                            style="padding: 0px 7px; margin: 10px 0px 0px 0px;"
                            (click)="eliminarCPE(datoVerCPE)"></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="field col-9">

            <div *ngIf="cambiosDetectadosCPE.length" class="formgrid row">
                <div class="field col">
                    <div class="tarjeta" style="margin: 0px 0px 30px 0px; width: 800px; text-align: center;">
                        <h5>CAMBIOS DETECTADOS</h5>
                        <table style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>
                                        <p>Tipo de dato:</p>
                                    </th>
                                    <th>
                                        <p>DATO ANTERIOR</p>
                                    </th>
                                    <th style="width: 20px;">
                                        <i class="pi pi-arrow-right" style="font-size: 12px;"></i>
                                    </th>
                                    <th>
                                        DATO DE CPE ACTUALIZADO
                                    </th>
                                    <th>
                                        Actualizar
                                    </th>
                                </tr>
                            </thead>
                            <tbody *ngFor="let cambio of cambiosDetectadosCPE">
                                <tr>
                                    <td>
                                        <label>{{cambio.tipoDato}}</label>
                                    </td>
                                    <td>
                                        <input type="text" class="input-text-codigo" style="width: auto;"
                                            [(ngModel)]="cambio.valorAnt" readonly>
                                    </td>
                                    <td style="width: 20px;">
                                        <i class="pi pi-arrow-right" style="font-size: 12px;"></i>
                                    </td>
                                    <td>
                                        <input type="text" class="input-text-codigo" style="width: auto;"
                                            [(ngModel)]="cambio.valor">
                                    </td>
                                    <td>
                                        <input type="checkbox" [(ngModel)]="cambio.modificar">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <button pButton pRipple type="button" label="GUARDAR CAMBIOS" class="p-button-success"
                            (click)="actualizarCPE()"></button>
                    </div>
                </div>
            </div>





            <iframe #iframeVisor frameborder="0" style="width: 100%; height: 1200px;"></iframe>
        </div>
    </div>
    <br><br>

    <ng-template pTemplate="footer">
        <button pButton pRipple type="button" label="AGREGAR" class="p-button-success bott"
            (click)="abrirModalCrearCPE(datosVerCPE[0].id_movimiento)"></button>
        <button pButton pRipple type="button" label="CERRAR" class="p-button-danger bott"
            (click)="displayVerCPE = false"></button>
    </ng-template>
</p-dialog>


<p-dialog header="EDITAR CPE" [(visible)]="displayEditarCPE" [modal]="true" [style]="{width: '700px'}"
    [draggable]="true" [resizable]="true" [maximizable]="true">

    <table style="width: 100%;">
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Nro CTG</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;" [(ngModel)]="datosEditarCPE.nro_ctg"
                    readonly>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Primaria:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_primaria" class="select-class">
                        <option value=""></option>
                        <option
                            *ngFor="let remitente_comercial_venta_primaria of intervinientesCPE.remitente_comercial_venta_primaria"
                            value="{{remitente_comercial_venta_primaria.cuit}}">
                            {{remitente_comercial_venta_primaria.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_primaria"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Secundaria:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_secundaria" class="select-class">
                        <option value=""></option>
                        <option
                            *ngFor="let remitente_comercial_venta_secundaria of intervinientesCPE.remitente_comercial_venta_secundaria"
                            value="{{remitente_comercial_venta_secundaria.cuit}}">
                            {{remitente_comercial_venta_secundaria.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_secundaria"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Rte. Comercial Venta Secundaria 2:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_secundaria2"
                        class="select-class">
                        <option value=""></option>
                        <option
                            *ngFor="let remitente_comercial_venta_secundaria2 of intervinientesCPE.remitente_comercial_venta_secundaria2"
                            value="{{remitente_comercial_venta_secundaria2.cuit}}">
                            {{remitente_comercial_venta_secundaria2.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_remitente_comercial_venta_secundaria2"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Corredor Venta Primaria:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_corredor_venta_primaria" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let corredor_venta_primaria of intervinientesCPE.corredor_venta_primaria"
                            value="{{corredor_venta_primaria.cuit}}">{{corredor_venta_primaria.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_corredor_venta_primaria"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Corredor Venta Secundaria:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_corredor_venta_secundaria" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let corredor_venta_secundaria of intervinientesCPE.corredor_venta_secundaria"
                            value="{{corredor_venta_secundaria.cuit}}">{{corredor_venta_secundaria.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_corredor_venta_secundaria"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Destinatario:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_destinatario" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let destinatario of intervinientesCPE.destinatario"
                            value="{{destinatario.cuit}}">{{destinatario.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_destinatario"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Destino:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_destino" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let destino of intervinientesCPE.destino" value="{{destino.cuit}}">
                            {{destino.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_destino"><br>
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Cod. Planta Destino</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.planta_destino">
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Cod. Provincia</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cod_provincia">
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Cod. Localidad</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cod_localidad">
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Es destino campo?</h6>
            </td>
            <td>
                <input type="checkbox" style="margin: 2px 5px;" [(ngModel)]="datosEditarCPE.es_destino_campo">
                {{datosEditarCPE.es_destino_campo ? 'SI' : 'NO'}}
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Empresa Transportista:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_transportista" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let transportista of intervinientesCPE.transportista"
                            value="{{transportista.cuit}}">{{transportista.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_transportista"><br>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; padding: 0px 20px 0px 0px;">Chofer:</td>
            <td>
                <div class="field">
                    <select [(ngModel)]="datosEditarCPE.cuit_chofer" class="select-class">
                        <option value=""></option>
                        <option *ngFor="let chofer of intervinientesCPE.chofer" value="{{chofer.cuit}}">
                            {{chofer.alias}}
                        </option>
                    </select>
                </div>
            </td>
            <td><input type="number" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cuit_chofer"><br>
            </td>
        </tr>

        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Cod. Grano</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.cod_grano">
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Peso Bruto</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.peso_bruto">
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Peso Tara</h6>
            </td>
            <td>
                <input type="text" class="input-text-codigo" style="width: 130px;"
                    [(ngModel)]="datosEditarCPE.peso_tara" readonly>
            </td>
        </tr>
        <tr>
            <td>
                <h6 style="text-align: right; margin: 2px 20px;">Dominios</h6>
            </td>
            <td colspan="2">
                <input type="text" class="input-text-codigo" style="width: 90px;" [(ngModel)]="datosEditarCPE.dominio1">
                <input type="text" class="input-text-codigo" style="width: 90px;" [(ngModel)]="datosEditarCPE.dominio2">
                <input type="text" class="input-text-codigo" style="width: 90px;" [(ngModel)]="datosEditarCPE.dominio3">
            </td>
        </tr>
    </table>

    <br><br><br>

    <ng-template pTemplate="footer">
        <button (click)="autorizarEditarCPE()" pButton pRipple type="button" label="EDITAR CPE"
            class="p-button-success bott"></button>
        <button pButton pRipple type="button" label="SALIR" class="p-button-danger bott"
            (click)="displayEditarCPE = false"></button>
    </ng-template>

</p-dialog>